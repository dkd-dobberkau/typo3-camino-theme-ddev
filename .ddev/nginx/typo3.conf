# TYPO3 specific nginx configuration

# Deny access to sensitive files
location ~* ^/(typo3conf/ext|typo3/sysext|typo3temp/var) {
    deny all;
    return 404;
}

# Block access to hidden files
location ~ /\. {
    deny all;
    return 404;
}

# Static files caching
location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
    access_log off;
}

# TYPO3 Backend
location /typo3 {
    try_files $uri /typo3/index.php$is_args$args;
}
